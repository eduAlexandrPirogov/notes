# Избавляемся от зависимости зависимостей 2

# Пример 1

## Описание

Зависимость Laravel-проекта от использования MongoDB.

### Семантическая зависимость

Зависимость сборки: для установки пакета нужно воспользоваться composer'ом, подходящей версией PHP и подходящей версией Laravel. Если мы поддерживаем
некоторое легаси, то наш проект зависим от пакета MOngoDB, т.к. некоторые функции могут работать иначе (как например query builder).
Также, если мы воспользуемся иной NoSQL библиотекой, то скорее всего нам нужно будет менять config'и и код. 

**Модуль конфига зависит от модуля пакета, т.к. при изменении пакета практически всегда нужно изменить конфиг (не .env), и некоторые функции языка могут быть недоступны (из-за версионности).**

Зависимость рантайма: не могу сказать.

Функциональная зависимость: в целом, если изменить БД, даже на реляционную, то (если изменить код), программа будет работать также как и раньше (данные 
также хранятся и забираются). 
Но тут уже зависимость от БД (напримеР, для некоторых функций БД требуются дополнительные библиотеки, или нужен дополнительный код).
Тут еще вопрос в том, как идет отображение модели в единицу хранения в БД (будет ли это таблица, или документ).

**Модуль работы ORM в Laravel зависит от пакета используемой БД, т.к. некоторые свойства модели могут по-разному работать в разных пакетах.**


### Ключевые свойства

Зависит ли некотрое свойство проекта от модуля MongoDB? Да, т.к. механизм создания миграций для коллекций различается от создания миграций для реляционной БД.

**Модуль миграций зависит от пакета MongoDB (точнее пакета используемого для нереляционной БД), т.к. работы миграций зависит от работы пакета.**

### Суперспецификации

Например, при обновлении PHP или Laravel, пакет для работы с MongoDB может работать иначе (например, query builder'ы, за другое не берусь говорить).
То есть, суперспецификация такова, что можно ожидать изменение работы/синтаксиса по работе с запросами пакета MongoDB.

**Модуль работы с query-builder'ом зависит от работы пакета, так как разработчики паркета могут изменять синтаксис/работу некоторой инструкции.**


# Пример 2

## Описание

Проект, загружающий и выгружающий файлы с DropBox через API. Испольозвались C++, Curl, DropBox Api.

## Семантическая зависимость

Зависимость сборки: посколкьу использовались C++ с libCurl, то тут минимальная зависимость проекта от используемого хранилища. Внезависимости от 
использоуемого облачного хранилища, проект будет в большинстве случаев.

Зависимость рантайма: если мы используем вместо DropBox Google Drive, то можем столкнуться с проблемой, что приложение экстренно завершит работу, когда
лимит на загрузки файлов исчерпан.

**Модуль взаимодействия с сервисом зависит от сервиса, т.к. некоторое свойство сервиса (количество загрузок допустимых) влияект на работу проекта **

Функциональная зависимость: при изменении сервиса (например, с DropBox на Яндекс.Диск) в целом функциональность останется неизменной.
(Проект использует слой абстракции, которые заключается в загрузке и выгрузке файлов, стоит изменить лишь код обращения к API). 
Конечно, тут может встать вопрос о количестве допустимых запросов к сервису, насколько сильно придется менять вызовы к API.

**Модуль взаимодействия с сервисом зависит от сервиса, т.к. некоторые свойства сервиса (количество допустимых загрузок, способ обращения к API, аутентификация)
влияют на проект**

### Ключевые свойства

Как некотроое свойство работы с сервисом может повлиять на работу проекта? Например, когда количество допустимых загрузок более недоступно, то при 
корректной работе программы выдается некорректный результат.

### Суперспецификации

Некоторые API вызовы могут более не поддерживаться со временем и быть заменены/удалены. То есть, может измениться спецификация API вызовов, способ авторизации и т.д.

**Модуль взаимодействия с сервисом зависит от сервиса, т.к. некоторые свойства сервиса (изменение спецификации работы с API)
влияют на проект**





# Пример 3
## Описание

Проект Laravel имел библиотеку по работе с интервалами дат в PostgreSQL, которыми кишила наша БД.

## Семантическая зависимость

Зависимость сборки: библиотеки зависят от версии PHP. Приходится играться с composer.json

**Модуль работы с PostgreSQL зависит от библиотеки по работе с интервалами дат, т.к. во время сборки некоторые функции могут быть недоступны в версии PHP 
при сборке проекта через composer**

Зависимость рантайма: не могу сказать, но как говорил коллега, также работавший над проектом, что имелись баги во время рантайма, связанные с работой моделью и форматом дат.

**Модуль работы с PostgreSQL зависит от библиотеки по работе с интервалами дат, т.к. во время рантайма, могут происходить ситуации, когда библиотека крашится**

Функциональная зависимость: возможно, иные библиотеки будут иметь отличающийся API. Не берусь говорить точно.

### Ключевые свойства

Скорость работы библиотеки оставляет желать лучшего.

**Модуль работы с PostgreSQL зависит от библиотеки по работе с интервалами дат, т.к. влияет на скорость работы с БД**

### Суперспецификации

Не могу сказать.



# Пример 4

## Описание

## Семантическая зависимость

### Ключевые свойства

### Суперспецификации
